# @package _global_

defaults:
  - override /model: DiT
  - override /dataset: cifar
  - override /mode: l2i
  - _self_

model:
  hidden_size: 256
  depth: 6
  num_heads: 4
  patch_size: 2

optimizer:
  lr: 1e-4
  weight_decay: 0.0
  betas: [0.9, 0.999]

batch_size: 256
eval_batch_size: 100
eval_batches: 50
eval_cfg_scale: 1.0
eval_integration_steps: 40
device: cuda
compile_model: true
max_grad_norm: 4.0


hydra:
  mode: MULTIRUN
  sweep:
    dir: ${project_name}/sweeps/${now:%Y-%m-%d_%H-%M}_Cifar_Label_Embedding
    subdir: ${hydra.job.override_dirname}
  sweeper:
    params:
      label_embedding.name: rectangle
      label_embedding.std_scale: 1.0
      rf.ln: true
      rf.ln_scale: 1.0
      rf.ln_loc: 0.0, -0.3, 0.3
